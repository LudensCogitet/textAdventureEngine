{
    "start": {
        "directives": [
            "north",
            "south",
            "east",
            "west",
            "inventory"
        ]
    },
    "rooms": {
        "anywhere": {
            "actions": {
                "inventory": [
                    {
                        "function": "items",
                        "params": ["player", "You have ", "."]
                    }
                ]
            }
        },
        "clearing": {
            "description": "Clearing",
            "actions": {
                "look&clearing": [
                    {
                        "function": "say",
                        "params":["This is an open space just south of the mouth of an ominous cave."]
                    },
                    {
                        "function": "items",
                        "params": ["clearing", "There is ", " here."]
                    }
                ],
                "north": [
                    {
                        "function": "travel",
                        "params": ["cave"]
                    }
                ]
            }
        },
        "cave": {
            "description": "A Dark and Spooky [Cavern|cave]",
            "actions":{
                "look&cave": [
                    {
                        "conditions": { "cave_in": false },
                        "function": "say",
                        "params":[ "The interior of the cave is damp and covered with a strange red moss. Sunlight streams in from the cave mouth to the south." ]
                    },
                    {
                        "conditions": { "moved_boulder": true },
                        "function": "say",
                        "params":[ "The interior of the cave is damp and covered with a strange red moss. Sunlight streams in from the cave mouth to the south. The huge boulder you chucked aside is against one wall." ]
                    },
                    {
                        "conditions": { "cave_in": true, "moved_boulder": false },
                        "function": "say",
                        "params": [ "The cave is totally dark after the cave-in. You (probably) cannot escape. Check your inventory." ]
                    }
                ],
                "south": [
                    {
                        "conditions": { "cave_in": false },
                        "function": "say",
                        "params": ["An earthquake rocks the mountain, causing a cascade of rocks outside."]
                    },
                    {
                        "conditions": { "cave_in": false },
                        "function": "set",
                        "params": [["cave_in", true]]
                    },
                    {
                        "conditions": { "cave_in": true, "moved_boulder": false },
                        "function": "say",
                        "params": ["Boulders block your way."]
                    },
                    {
                        "conditions": { "cave_in": true, "moved_boulder": true },
                        "function": "travel",
                        "params": ["clearing"]
                    }
                ],
                "hand&boulders": [
                    {
                        "conditions": {"cave_in": true, "moved_boulder": false},
                        "function": "say",
                        "params": ["Turns out you're incredibly strong, and you move the rocks out of the way."]
                    },
                    {
                        "conditions": {"cave_in": true, "moved_boulder": false},
                        "function": "set",
                        "params": [["moved_boulder", true]]
                    }
                ]
            }
        }
    },
    "things": [
        {
            "name": "lighter",
            "actions": {
                "hand&lighter": [
                    {
                        "function": "say",
                        "params": ["You pick up the lighter."]
                    },
                    {
                        "function": "take",
                        "params": ["lighter"]
                    }
                ],
                "look&lighter": [
                    {
                        "function": "say",
                        "params": ["It's a sleek looking oil lighter. It seems to be in great condition."]
                    }
                ]
            },
            "location": "clearing",
            "description": "a lighter"
        },
        {
            "name": "idol",
            "actions": {},
            "location": "cave",
            "description": "a stone idol"
        }
    ],
    "conditions": {
        "location": "clearing",
        "cave_in": false,
        "moved_boulder": false
    }
}
